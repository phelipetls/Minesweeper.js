<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Minesweeper</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>Minesweeper</h1>
    </header>
    <main>
      <aside>
        <h3>About</h3>
        <p>
          This is a Minesweeper implementation in vanilla JavaScript.
        </p>
        <p>
          Since it is one of my favorite games, I used it as an inspiration to
          learn more about web development.
        </p>
        <details>
          <summary>Instructions</summary>
          <ul class="instructions">
            <li>
              <h3>Goal: reveal all squares without a bomb.</h3>
            </li>

            <li>
              <details>
                <summary>Left Click</summary>
                <p>Reveals the square content.</p>
                <p>
                  If it is a bomb, you will lose and all bombs will be revealed.
                </p>
                <p>
                  Otherwise, the square will show the number of surrounding
                  bombs.
                </p>
                <p>
                  The empty surrounding bombs will be revealed recursively if
                  the square is empty.
                </p>
              </details>
            </li>

            <li>
              <details>
                <summary>Right Click</summary>
                <p>Mark a square as flagged or as a question mark.</p>
                <p>
                  Put a flag on a square if you think there is a bomb there.
                </p>
                <p>
                  If you're not really sure if it is a bomb, put a question
                  mark.
                </p>
              </details>
            </li>

            <li>
              <details>
                <summary>Double Click</summary>
                <p>
                  Reveals all surrounding squares, but only if the number of
                  flagged squares is equal to or greater than the number of
                  surrounding bombs.
                </p>
              </details>
            </li>
          </ul>
        </details>
        <!-- <details> -->
        <!--   <summary>Implementation details</summary> -->
        <!--   <p>I used mostly the DOM API to implement the logic behind the game.</p> -->
        <!--   <p>The board is a HTML <code>table</code> element and each square is a <code>td</code> element.</p> -->
        <!--   <p>In this way, it was trivial to get the main operation when a bomb was clicked, I mean, to get the surrounding squares</p> -->
        <!--   <p> -->
        <!--     Given a <code>td</code> element, we can get the row above easily with the properties <code>parentElement</code> and <code>previousElementSibling</code>. -->
        <!--     Similarly for the row below, for which we would use <code>nextElementSibling</code>. -->
        <!--   </p> -->
        <!--   <p> -->
        <!--     Then, to get the <code>td</code> exactly above, we would use the <td>cellIndex</td> property. -->
        <!--   </p> -->
        <!-- </details> -->
      </aside>
      <div class="game">
        <div class="menu game-menu">
          <div class="counter">00</div>
          <div class="smiley">ðŸ˜€</div>
          <div class="timer">000</div>
        </div>
        <div class="minesweeper-container">
          <table class="minesweeper">
            <tbody></tbody>
          </table>
        </div>
        <div class="menu difficulty-menu">
          <select id="difficulty" name="difficulty">
            <option value="easy">Easy</option>
            <option value="medium" selected>Medium</option>
            <option value="hard">Hard</option>
            <option value="custom">Custom</option>
            <option value="random">Random</option>
          </select>
          <div class="params" style="display: none">
            <div class="param">
              <label for="width">Width:</label>
              <input
                id="width"
                type="number"
                name="width"
                min="0"
                max="30"
                value="10"
              />
            </div>
            <div class="param">
              <label for="height">Height:</label>
              <input
                id="height"
                type="number"
                name="height"
                min="0"
                max="30"
                value="10"
              />
            </div>
            <div class="param">
              <label for="bombs">Bombs:</label>
              <input id="bombs" type="number" name="bombs" value="5" />
            </div>
          </div>
        </div>
      </div>
      <div class="new-game-popup" hidden>
        <h6>Sure you want to restart?</h6>
        <div class="confirm-buttons">
          <button id="yes" name="yes" type="button">Yes</button>
          <button id="no" name="no" type="button">No</button>
        </div>
      </div>
    </main>
    <script src="index.js" type="module"></script>
  </body>
</html>
